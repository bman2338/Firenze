(function(e){var x="left";var t="right";var I=0;var J=1;var z="auto_adjust";var g="update_text";var K="update_buttons";var l="update_number";var B="show_scrollbar";var C="hide_scrollbar";var D="update_knob";var n={TL:0,TC:1,TR:2,BL:3,BC:4,BR:5};var d=0;var m={"block.top":d++,"block.right":d++,"block.bottom":d++,"block.left":d++,"block.drop":d++,"diag.fade":d++,"diag.exp":d++,"rev.diag.fade":d++,"rev.diag.exp":d++,"block.fade":d++,"block.exp":d++,"block.top.zz":d++,"block.bottom.zz":d++,"block.left.zz":d++,"block.right.zz":d++,"spiral.in":d++,"spiral.out":d++,"vert.tl":d++,"vert.tr":d++,"vert.bl":d++,"vert.br":d++,"fade.left":d++,"fade.right":d++,"alt.left":d++,"alt.right":d++,"blinds.left":d++,"blinds.right":d++,"horz.tl":d++,"horz.tr":d++,"horz.bl":d++,"horz.br":d++,"fade.top":d++,"fade.bottom":d++,"alt.top":d++,"alt.bottom":d++,"blinds.top":d++,"blinds.bottom":d++,none:d++,fade:d++,"h.slide":d++,"v.slide":d++,random:d++};var G={fade:0,down:1,right:2,up:3,left:4,none:5};var r=250;var f=75;var a=50;var u=5000;var A=800;var k=300;var v=600;var F=0.1;var E=4;var q=600;var h=50;function b(N){this._$stripes;this._total;this._intervalId=null;this._rotator=N;this._areaWidth=N._screenWidth;this._areaHeight=N._screenHeight;this._size=N._vSize;this._duration=N._duration;this._delay=N._vDelay;this._total=Math.ceil(this._areaWidth/this._size);if(this._total>r){this._size=Math.ceil(this._areaWidth/r);this._total=Math.ceil(this._areaWidth/this._size)}var M="";for(var L=0;L<this._total;L++){M+="<div class='vpiece' id='"+L+"' style='left:"+(L*this._size)+"px; height:"+this._areaHeight+"px'></div>"}this._rotator.addToScreen(M);this._$stripes=this._rotator._$obj.find("div.vpiece")}b.prototype.clear=function(){clearInterval(this._intervalId);this._$stripes.stop(true).css({"z-index":2,opacity:0})};b.prototype.displayContent=function(L,M){this.setPieces(L,M);this.animate(L,M)};b.prototype.setPieces=function(L,M){switch(M){case m["vert.tl"]:case m["vert.tr"]:this.setVertPieces(L,-this._areaHeight,1,this._size,false);break;case m["vert.bl"]:case m["vert.br"]:this.setVertPieces(L,this._areaHeight,1,this._size,false);break;case m["alt.left"]:case m["alt.right"]:this.setVertPieces(L,0,1,this._size,true);break;case m["blinds.left"]:case m["blinds.right"]:this.setVertPieces(L,0,1,0,false);break;default:this.setVertPieces(L,0,0,this._size,false)}};b.prototype.setVertPieces=function(L,R,S,N,Q){var U=L.attr("src");var T=0;var M=0;if(this._rotator._autoCenter){T=(this._areaHeight-L.height())/2;M=(this._areaWidth-L.width())/2}for(var O=0;O<this._total;O++){var P=((-O*this._size)+M);if(Q){R=(O%2)==0?-this._areaHeight:this._areaHeight}this._$stripes.eq(O).css({background:"url('"+U+"') no-repeat",backgroundPosition:P+"px "+T+"px",opacity:S,top:R,width:N,"z-index":3})}};b.prototype.animate=function(N,O){var R,M,Q,L;var P=this;switch(O){case m["vert.tl"]:case m["vert.bl"]:case m["fade.left"]:case m["blinds.left"]:case m["alt.left"]:R=0;M=this._total-1;Q=1;break;default:R=this._total-1;M=0;Q=-1}this._intervalId=setInterval(function(){P._$stripes.eq(R).animate({top:0,opacity:1,width:P._size},P._duration,P._rotator._easing,function(){if(e(this).attr("id")==M){P._rotator.showContent(N)}});if(R==M){clearInterval(P._intervalId)}R+=Q},this._delay)};function y(N){this._$stripes;this._total;this._intervalId=null;this._rotator=N;this._areaWidth=N._screenWidth;this._areaHeight=N._screenHeight;this._size=N._hSize;this._duration=N._duration;this._delay=N._hDelay;this._total=Math.ceil(this._areaHeight/this._size);if(this._total>r){this._size=Math.ceil(this._areaHeight/r);this._total=Math.ceil(this._areaHeight/this._size)}var M="";for(var L=0;L<this._total;L++){M+="<div class='hpiece' id='"+L+"' style='top:"+(L*this._size)+"px; width:"+this._areaWidth+"px'><!-- --></div>"}this._rotator.addToScreen(M);this._$stripes=this._rotator._$obj.find("div.hpiece")}y.prototype.clear=function(){clearInterval(this._intervalId);this._$stripes.stop(true).css({"z-index":2,opacity:0})};y.prototype.displayContent=function(L,M){this.setPieces(L,M);this.animate(L,M)};y.prototype.setPieces=function(L,M){switch(M){case m["horz.tr"]:case m["horz.br"]:this.setHorzPieces(L,this._areaWidth,1,this._size,false);break;case m["horz.tl"]:case m["horz.bl"]:this.setHorzPieces(L,-this._areaWidth,1,this._size,false);break;case m["alt.top"]:case m["alt.bottom"]:this.setHorzPieces(L,0,1,this._size,true);break;case m["blinds.top"]:case m["blinds.bottom"]:this.setHorzPieces(L,0,1,0,false);break;default:this.setHorzPieces(L,0,0,this._size,false)}};y.prototype.setHorzPieces=function(L,O,R,T,Q){var U=L.attr("src");var S=0;var M=0;if(this._rotator._autoCenter){S=(this._areaHeight-L.height())/2;M=(this._areaWidth-L.width())/2}for(var P=0;P<this._total;P++){var N=((-P*this._size)+S);if(Q){O=(P%2)==0?-this._areaWidth:this._areaWidth}this._$stripes.eq(P).css({background:"url('"+U+"') no-repeat",backgroundPosition:M+"px "+N+"px",opacity:R,left:O,height:T,"z-index":3})}};y.prototype.animate=function(M,N){var Q,L,P;var O=this;switch(N){case m["horz.tl"]:case m["horz.tr"]:case m["fade.top"]:case m["blinds.top"]:case m["alt.top"]:Q=0;L=this._total-1;P=1;break;default:Q=this._total-1;L=0;P=-1}this._intervalId=setInterval(function(){O._$stripes.eq(Q).animate({left:0,opacity:1,height:O._size},O._duration,O._rotator._easing,function(){if(e(this).attr("id")==L){O._rotator.showContent(M)}});if(Q==L){clearInterval(O._intervalId)}Q+=P},this._delay)};function o(P){this._$blockArr;this._$blocks;this._$arr;this._numRows;this._numCols;this._total;this._intervalId;this._rotator=P;this._areaWidth=P._screenWidth;this._areaHeight=P._screenHeight;this._size=P._bSize;this._duration=P._duration;this._delay=P._bDelay;this._numRows=Math.ceil(this._areaHeight/this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols;if(this._total>r){this._size=Math.ceil(Math.sqrt((this._areaHeight*this._areaWidth)/r));this._numRows=Math.ceil(this._areaHeight/this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols}var O="";for(var N=0;N<this._numRows;N++){for(var M=0;M<this._numCols;M++){O+="<div class='block' id='"+N+"-"+M+"'></div>"}}this._rotator.addToScreen(O);this._$blocks=this._rotator._$obj.find("div.block");this._$blocks.data({tlId:"0-0",trId:"0-"+(this._numCols-1),blId:(this._numRows-1)+"-0",brId:(this._numRows-1)+"-"+(this._numCols-1)});var L=0;this._$arr=new Array(this._total);this._$blockArr=new Array(this._numRows);for(var N=0;N<this._numRows;N++){this._$blockArr[N]=new Array(this._numCols);for(var M=0;M<this._numCols;M++){this._$blockArr[N][M]=this._$arr[L++]=this._$blocks.filter("#"+(N+"-"+M)).data("top",N*this._size)}}}o.prototype.clear=function(){clearInterval(this._intervalId);this._$blocks.stop(true).css({"z-index":2,opacity:0})};o.prototype.displayContent=function(L,M){switch(M){case m["diag.fade"]:this.setBlocks(L,0,this._size,0);this.diagAnimate(L,{opacity:1},false);break;case m["diag.exp"]:this.setBlocks(L,0,0,0);this.diagAnimate(L,{opacity:1,width:this._size,height:this._size},false);break;case m["rev.diag.fade"]:this.setBlocks(L,0,this._size,0);this.diagAnimate(L,{opacity:1},true);break;case m["rev.diag.exp"]:this.setBlocks(L,0,0,0);this.diagAnimate(L,{opacity:1,width:this._size,height:this._size},true);break;case m["block.fade"]:this.setBlocks(L,0,this._size,0);this.randomAnimate(L);break;case m["block.exp"]:this.setBlocks(L,1,0,0);this.randomAnimate(L);break;case m["block.drop"]:this.setBlocks(L,1,this._size,-(this._numRows*this._size));this.randomAnimate(L);break;case m["block.top.zz"]:case m["block.bottom.zz"]:this.setBlocks(L,0,this._size,0);this.zigZag(L,M);break;case m["block.left.zz"]:case m["block.right.zz"]:this.setBlocks(L,0,this._size,0);this.zigZag(L,M);break;case m["spiral.in"]:this.setBlocks(L,0,this._size,0);this.spiral(L,false);break;case m["spiral.out"]:this.setBlocks(L,0,this._size,0);this.spiral(L,true);break;default:this.setBlocks(L,1,0,0);this.dirAnimate(L,M)}};o.prototype.setBlocks=function(L,R,V,Q){var S=0;var N=0;if(this._rotator._autoCenter){S=(this._areaHeight-L.height())/2;N=(this._areaWidth-L.width())/2}var T=L.attr("src");for(var P=0;P<this._numRows;P++){for(var O=0;O<this._numCols;O++){var U=((-P*this._size)+S);var M=((-O*this._size)+N);this._$blockArr[P][O].css({background:"url('"+T+"') no-repeat",backgroundPosition:M+"px "+U+"px",opacity:R,top:(P*this._size)+Q,left:(O*this._size),width:V,height:V,"z-index":3})}}};o.prototype.diagAnimate=function(L,U,Q){var T=this;var S=new Array(this._total);var M,P,N,O;var V=(this._numRows-1)+(this._numCols-1);if(Q){M=V;P=-1;N=-1;O=this._$blocks.data("tlId")}else{M=0;P=V+1;N=1;O=this._$blocks.data("brId")}var R=0;while(M!=P){i=Math.min(this._numRows-1,M);while(i>=0){j=Math.abs(i-M);if(j>=this._numCols){break}S[R++]=this._$blockArr[i][j];i--}M+=N}R=0;this._intervalId=setInterval(function(){S[R++].animate(U,T._duration,T._rotator._easing,function(){if(e(this).attr("id")==O){T._rotator.showContent(L)}});if(R==T._total){clearInterval(T._intervalId)}},this._delay)};o.prototype.zigZag=function(M,T){var S=this;var Q=true;var R=0,P=0,N,O,L;if(T==m["block.left.zz"]){O=(this._numCols%2==0)?this._$blocks.data("trId"):this._$blocks.data("brId");P=0;N=1;L=false}else{if(T==m["block.right.zz"]){O=(this._numCols%2==0)?this._$blocks.data("tlId"):this._$blocks.data("blId");P=this._numCols-1;N=-1;L=false}else{if(T==m["block.top.zz"]){O=(this._numRows%2==0)?this._$blocks.data("blId"):this._$blocks.data("brId");R=0;N=1;L=true}else{O=(this._numRows%2==0)?this._$blocks.data("tlId"):this._$blocks.data("trId");R=this._numRows-1;N=-1;L=true}}}this._intervalId=setInterval(function(){S._$blockArr[R][P].animate({opacity:1},S._duration,S._rotator._easing,function(){if(e(this).attr("id")==O){S._rotator.showContent(M)}});if(S._$blockArr[R][P].attr("id")==O){clearInterval(S._intervalId)}if(L){(Q?P++:P--);if(P==S._numCols||P<0){Q=!Q;P=(Q?0:S._numCols-1);R+=N}}else{(Q?R++:R--);if(R==S._numRows||R<0){Q=!Q;R=(Q?0:S._numRows-1);P+=N}}},this._delay)};o.prototype.dirAnimate=function(N,O){var Q=this;var R=new Array(this._total);var S;var P=0;switch(O){case m["block.left"]:S=this._$blocks.data("brId");for(var L=0;L<this._numCols;L++){for(var M=0;M<this._numRows;M++){R[P++]=this._$blockArr[M][L]}}break;case m["block.right"]:S=this._$blocks.data("blId");for(var L=this._numCols-1;L>=0;L--){for(var M=0;M<this._numRows;M++){R[P++]=this._$blockArr[M][L]}}break;case m["block.top"]:S=this._$blocks.data("brId");for(var M=0;M<this._numRows;M++){for(var L=0;L<this._numCols;L++){R[P++]=this._$blockArr[M][L]}}break;default:S=this._$blocks.data("trId");for(var M=this._numRows-1;M>=0;M--){for(var L=0;L<this._numCols;L++){R[P++]=this._$blockArr[M][L]}}}P=0;this._intervalId=setInterval(function(){R[P++].animate({width:Q._size,height:Q._size},Q._duration,Q._rotator._easing,function(){if(e(this).attr("id")==S){Q._rotator.showContent(N)}});if(P==Q._total){clearInterval(Q._intervalId)}},this._delay)};o.prototype.randomAnimate=function(M){var N=this;w(this._$arr);var L=0;count=0;this._intervalId=setInterval(function(){N._$arr[L].animate({top:N._$arr[L].data("top"),width:N._size,height:N._size,opacity:1},N._duration,N._rotator._easing,function(){if(++count==N._total){N._rotator.showContent(M)}});L++;if(L==N._total){clearInterval(N._intervalId)}},this._delay)};o.prototype.spiral=function(L,T){var W=this;var S=0,R=0;var X=this._numRows-1;var Y=this._numCols-1;var N=0;var Q=Y;var V=new Array();while(X>=0&&Y>=0){var U=0;while(true){V[V.length]=this._$blockArr[S][R];if((++U)>Q){break}switch(N){case 0:R++;break;case 1:S++;break;case 2:R--;break;case 3:S--}}switch(N){case 0:N=1;Q=(--X);S++;break;case 1:N=2;Q=(--Y);R--;break;case 2:N=3;Q=(--X);S--;break;case 3:N=0;Q=(--Y);R++}}if(V.length>0){if(T){V.reverse()}var P=V.length-1;var M=V[P].attr("id");var O=0;this._intervalId=setInterval(function(){V[O].animate({opacity:1},W._duration,W._rotator._easing,function(){if(e(this).attr("id")==M){W._rotator.showContent(L)}});if(O==P){clearInterval(W._intervalId)}O++},this._delay)}};function s(M,L){this._screenWidth=c(L.screen_width,600);this._screenHeight=c(L.screen_height,300);this._itemWidth=c(L.item_width,250);this._itemHeight=c(L.item_height,75);this._numDisplay=c(L.item_display,4);this._rotate=L.auto_start;this._duration=c(L.transition_speed,A);this._defaultEffect=L.transition.toLowerCase();this._easing=L.easing;this._scrollType=window.Touch?"swipe":L.scroll_type.toLowerCase();this._displayArrow=L.display_arrow;this._displayThumbs=L.display_thumbs;this._displayScrollbar=L.display_scrollbar;this._displayPlayButton=L.display_playbutton;this._displayNumber=L.display_number;this._displayTimer=L.display_timer;this._textEffect=L.text_effect.toLowerCase();this._textSync=L.text_sync;this._playOnce=L.play_once;this._listAlign=L.list_align.toLowerCase();this._moveBy1=L.move_one;this._autoCenter=L.auto_center;this._textMouseover=window.Touch?false:L.text_mouseover;this._pauseMouseover=window.Touch?false:L.pause_mouseover;this._cpMouseover=window.Touch?false:L.cpanel_mouseover;this._mouseoverSelect=L.mouseover_select;this._timerAlign=L.timer_align.toLowerCase();this._cpAlign=L.cpanel_align.toUpperCase();this._defaultDelay=c(L.delay,u);this._shuffle=L.shuffle;this._vSize=c(L.vert_size,a);this._hSize=c(L.horz_size,a);this._bSize=c(L.block_size,f);this._vDelay=c(L.vstripe_delay,90);this._hDelay=c(L.hstripe_delay,180);this._bDelay=c(L.block_delay,35);this._autoAdjust=L.auto_adjust;this._numItems;this._currIndex;this._prevIndex;this._prevSlots;this._nextSlots;this._maxSlots;this._pos;this._delay;this._vStripes;this._hStripes;this._blocks;this._range;this._dest;this._scrollSpeed;this._scrollId;this._timerId;this._blockEffect;this._hStripeEffect;this._vStripeEffect;this._dir;this._slideCoord;this._listCoord;this._$rotator;this._$screen;this._$strip;this._$thumbPanel;this._$list;this._$listItems;this._$timer;this._$mainLink;this._$textBox;this._$innerText;this._$preloader;this._$cpanel;this._$playButton;this._$numInfo;this._$arrow;this._$containers;this._$upPane;this._$downPane;this._$scrollbar;this._$knob;this._$obj=M;this.init()}s.prototype.init=function(){this._$rotator=this._$obj.find(".l-rotator");this._$screen=this._$rotator.find(".screen");this._$thumbPanel=this._$rotator.find(".thumbnails");this._$list=this._$thumbPanel.find(">ul:first");this._$listItems=this._$list.find(">li");this._blockEffect=this._hStripeEffect=this._vStripeEffect=false;this.checkEffect(m[this._defaultEffect]);this._scrollId=null;this._timerId=null;this._currIndex=0;this._prevIndex=-1;this._numItems=this._$listItems.size();this._pos=0;this._maxSlots=this._numItems-this._numDisplay;this._prevSlots=0;this._nextSlots=this._maxSlots;this.initMainScreen();this.initItems();this.initThumbPanel();if(this._textMouseover){this._$rotator.bind("mouseenter",{elem:this},this.displayText).bind("mouseleave",{elem:this},this.hideText)}else{this._$rotator.bind(g,{elem:this},this.updateText)}this._$rotator.css({width:this._screenWidth+this._itemWidth,height:this._$thumbPanel.height()>this._screenHeight?this._$thumbPanel.height():this._screenHeight});if(this._pauseMouseover){this._$rotator.bind("mouseenter",{elem:this},this.stopRotate).bind("mouseleave",{elem:this},this.startRotate)}if(this._vStripeEffect){this._vStripes=new b(this)}if(this._hStripeEffect){this._hStripes=new y(this)}if(this._blockEffect){this._blocks=new o(this)}if(window.Touch){this._slideCoord={start:-1,end:-1};if(this._defaultEffect=="v.slide"){this._$screen.bind("touchstart",{elem:this},this.touchVStart).bind("touchmove",{elem:this},this.touchVMove)}else{this._$screen.bind("touchstart",{elem:this},this.touchStart).bind("touchmove",{elem:this},this.touchMove)}this._$screen.bind("touchend",{elem:this},this.touchEnd)}else{try{this._$screen.bind("mousewheel",{elem:this},this.mouseScrollContent).bind("DOMMouseScroll",{elem:this},this.mouseScrollContent)}catch(L){}}this.loadImg(0);this.loadContent(this._currIndex)};s.prototype.mouseScrollContent=function(M){var L=M.data.elem;if(!L._$strip.is(":animated")){var N=(typeof M.originalEvent.wheelDelta=="undefined")?-M.originalEvent.detail:M.originalEvent.wheelDelta;N>0?L.goPrev():L.goNext()}return false};s.prototype.mouseScrollThumbs=function(M){var L=M.data.elem;if(!L._$list.is(":animated")){var N=(typeof M.originalEvent.wheelDelta=="undefined")?-M.originalEvent.detail:M.originalEvent.wheelDelta;N>0?L.scrollPrevThumbs(L._moveBy1):L.scrollNextThumbs(L._moveBy1)}};s.prototype.touchStart=function(L){L.data.elem._slideCoord.start=L.originalEvent.touches[0].pageX};s.prototype.touchMove=function(L){L.preventDefault();L.data.elem._slideCoord.end=L.originalEvent.touches[0].pageX};s.prototype.touchVStart=function(L){L.data.elem._slideCoord.start=L.originalEvent.touches[0].pageY};s.prototype.touchVMove=function(L){L.preventDefault();L.data.elem._slideCoord.end=L.originalEvent.touches[0].pageY};s.prototype.touchEnd=function(M){var L=M.data.elem;if(L._slideCoord.end>=0){if(Math.abs(L._slideCoord.start-L._slideCoord.end)>h){if(L._slideCoord.end<L._slideCoord.start){L.goNext()}else{L.goPrev()}}}L._slideCoord.start=L._slideCoord.end=-1};s.prototype.listTouchStart=function(L){L.data.elem._listCoord.start=L.originalEvent.touches[0].pageY};s.prototype.listTouchMove=function(L){L.preventDefault();L.data.elem._listCoord.end=L.originalEvent.touches[0].pageY};s.prototype.listTouchEnd=function(M){var L=M.data.elem;if(L._listCoord.end>=0){if(Math.abs(L._listCoord.start-L._listCoord.end)>h){if(L._listCoord.end<L._listCoord.start){L.scrollNextThumbs(this._moveBy1)}else{L.scrollPrevThumbs(this._moveBy1)}}}L._listCoord.start=L._listCoord.end=-1};s.prototype.addToScreen=function(L){this._$mainLink.append(L)};s.prototype.initMainScreen=function(){var L="<div id='preloader'></div>						<div id='timer'></div>						<div class='textbox'>							<div class='inner-bg'></div>							<div class='inner-text'></div>						</div>						<div class='cpanel'>							<div id='play-btn'></div>							<div id='num-info'></div>						</div>";this._$screen.append(L).css({width:this._screenWidth,height:this._screenHeight});this._$preloader=this._$screen.find("#preloader");this.initTimerBar();this._$textBox=this._$screen.find(".textbox");this._$innerText=this._$textBox.find(".inner-text");this._$strip=e("<div class='strip'></div>");if(this._defaultEffect=="h.slide"){this._$screen.append(this._$strip);this._$strip.css({width:2*this._screenWidth,height:this._screenHeight});this._$listItems.removeAttr("effect")}else{if(this._defaultEffect=="v.slide"){this._$screen.append(this._$strip);this._$strip.css({width:this._screenWidth,height:2*this._screenHeight});this._$listItems.removeAttr("effect")}else{this._$mainLink=e("<a href='#'></a>");this._$screen.append(this._$mainLink)}}this.initCPanel()};s.prototype.initTimerBar=function(){this._$timer=this._$screen.find("#timer").data("pct",1);if(this._displayTimer){this._$timer.css("top",this._timerAlign=="top"?0:this._screenHeight-this._$timer.height()).css("visibility","visible")}else{this._$timer.hide()}};s.prototype.initCPanel=function(){this._$cpanel=this._$screen.find(".cpanel");if(!this._displayNumber&&!this._displayPlayButton){this._$cpanel.remove();return}this._$numInfo=this._$cpanel.find("#num-info");if(this._displayNumber){var N=H(this._numItems);var O="";for(var L=0;L<N;L++){O+="0"}O+=" / "+O;this._$numInfo.html(O).width(this._$numInfo.width()).html("");var M=this;this._$rotator.bind(l,function(){M._$numInfo.html((M._currIndex+1)+" / "+M._numItems)})}else{this._$numInfo.remove()}this._$playButton=this._$cpanel.find("#play-btn");if(this._displayPlayButton){this._$playButton.bind("click",{elem:this},this.togglePlay).toggleClass("pause",this._rotate)}else{this._$playButton.remove()}switch(n[this._cpAlign]){case n.TL:this._$cpanel.css({top:0,left:0});break;case n.TC:this._$cpanel.css({top:0,left:Math.floor((this._screenWidth-this._$cpanel.outerWidth(true))/2)});break;case n.TR:this._$cpanel.css({top:0,left:this._screenWidth-this._$cpanel.outerWidth(true)});break;case n.BL:this._$cpanel.css({top:this._screenHeight-this._$cpanel.outerHeight(true),left:0});break;case n.BC:this._$cpanel.css({top:this._screenHeight-this._$cpanel.outerHeight(true),left:Math.floor((this._screenWidth-this._$cpanel.outerWidth(true))/2)});break;default:this._$cpanel.css({top:this._screenHeight-this._$cpanel.outerHeight(true),left:this._screenWidth-this._$cpanel.outerWidth(true)})}if(this._cpMouseover){this._$cpanel.css("display","none");this._$rotator.bind("mouseenter",{elem:this},this.showCPanel).bind("mouseleave",{elem:this},this.hideCPanel)}this._$cpanel.css("visibility","visible")};s.prototype.showCPanel=function(L){L.data.elem._$cpanel.stop(true,true).fadeIn(k)};s.prototype.hideCPanel=function(L){L.data.elem._$cpanel.stop(true,true).fadeOut(k)};s.prototype.initItems=function(){var Q=this._$innerText.outerHeight()-this._$innerText.height();var P=this._$listItems.size();for(var N=0;N<P;N++){var L=this._$listItems.eq(N);var O=L.find(">a:first");var M=m[L.attr("effect")];if((typeof M=="undefined")||M==m["h.slide"]||M==m["v.slide"]){M=m[this._defaultEffect]}else{this.checkEffect(M)}L.data({imgurl:O.attr("href"),delay:c(L.attr("delay"),this._defaultDelay),effect:M});this.initTextData(L,Q)}this._$innerText.html("").css({width:"auto",height:"auto"});this._$textBox.css("visibility","visible");if(this._shuffle){this.shuffleItems()}this._$containers=this._$listItems.find(">div.thumb");this._$containers.css(this._listAlign==x?{"float":"left","border-right-width":1}:{"float":"right","border-left-width":1});this._$containers.css({width:this._itemWidth-(this._$containers.outerWidth()-this._$containers.width()),height:this._itemHeight-(this._$containers.outerHeight()-this._$containers.height())}).mousedown(p);if(!this._displayThumbs){this._$containers.find(">img:first").hide()}};s.prototype.initThumbPanel=function(){var L=0;if(this._displayArrow){this._$arrow=e("<div>&nbsp;&nbsp;&nbsp;</div>").attr("id",this._listAlign==t?"left-arrow":"right-arrow").height(this._itemHeight);this._$listItems.eq(0).append(this._$arrow);L=this._$arrow.width()}else{this._$listItems.addClass("square")}this._$listItems.css({width:this._itemWidth+L,height:this._itemHeight});this._$list.height(this._numItems*this._$listItems.outerHeight());this._$thumbPanel.css({width:this._$listItems.width(),height:this._numDisplay*this._$listItems.outerHeight()});this._$thumbPanel.bind(this._mouseoverSelect?"mouseover":"click",{elem:this},this.selectItem);this._range=this._$list.height()-this._$thumbPanel.height();if(this._listAlign==x){this._$thumbPanel.css("left",0);this._$screen.css("left",this._itemWidth)}else{this._$screen.css("left",0);this._$thumbPanel.css("left",this._screenWidth-L)}switch(this._scrollType){case"mouse_click":this.initDButtons();this._$upPane.bind("click",{elem:this},this.prevThumbs).find("#up-btn").css("cursor","pointer");this._$downPane.bind("click",{elem:this},this.nextThumbs).find("#down-btn").css("cursor","pointer");try{this._$thumbPanel.bind("mousewheel",{elem:this},this.mouseScrollThumbs).bind("DOMMouseScroll",{elem:this},this.mouseScrollThumbs)}catch(M){}break;case"mouse_over":this.initDButtons();this._$upPane.bind("mouseenter",{elem:this},this.scrollUp).bind("mouseleave",{elem:this},this.stopThumbList);this._$downPane.bind("mouseenter",{elem:this},this.scrollDown).bind("mouseleave",{elem:this},this.stopThumbList);break;case"mouse_move":this._$thumbPanel.bind("mousemove",{elem:this},this.mousemoveScroll);break;case"swipe":this._listCoord={start:-1,end:-1};this._$thumbPanel.bind("touchstart",{elem:this},this.listTouchStart).bind("touchmove",{elem:this},this.listTouchMove).bind("touchend",{elem:this},this.listTouchEnd);break;default:this._$listItems.bind("click",{elem:this},this.itemClick);try{this._$thumbPanel.bind("mousewheel",{elem:this},this.mouseScrollThumbs).bind("DOMMouseScroll",{elem:this},this.mouseScrollThumbs)}catch(M){}}if(this._displayScrollbar&&this._range>0){this.initScrollbar()}if(this._autoAdjust){this._$rotator.bind(z,{elem:this},this.adjustThumbs);if(!window.Touch){var N=this;this._$thumbPanel.hover(function(){N._$rotator.unbind(z)},function(){N._$rotator.bind(z,{elem:N},N.adjustThumbs)})}}};s.prototype.initScrollbar=function(){var N=this;this._$thumbPanel.append("<div id='scrollbar'><div id='knob'></div></div>");this._$scrollbar=this._$thumbPanel.find("#scrollbar");this._$knob=this._$scrollbar.find("#knob");this._$scrollbar.css("left",this._listAlign==x?0:this._$thumbPanel.width()-this._$scrollbar.width());this._$knob.height(Math.floor((this._numDisplay/this._numItems)*this._$scrollbar.height()));var L=this._$scrollbar.height()-this._$knob.height();var M=L/this._range;this._$scrollbar.data({range:L,ratio:M});this._$rotator.bind(B,function(){N._$scrollbar.stop(true,true).fadeIn(k)}).bind(C,function(){N._$scrollbar.stop(true,true).fadeOut(k)}).bind(D,function(){N._$knob.stop(true).animate({top:Math.round(-N._pos*M)},N._scrollSpeed)});this._$scrollbar.hide().css("visibility","visible")};s.prototype.initDButtons=function(){this._$thumbPanel.append("<div class='btn-pane'><div id='up-btn'></div></div>							<div class='btn-pane'><div id='down-btn'></div></div>");var L=this._$thumbPanel.find(".btn-pane");L.css({opacity:0,width:this._itemWidth});L.hover(this.showDPane,this.hideDPane);if(this._displayArrow&&this._listAlign==t){L.css("left",this._$arrow.width())}this._$upPane=L.has("#up-btn");this._$downPane=L.has("#down-btn");this._$downPane.css("top",this._$thumbPanel.height()-this._$downPane.height());L.css("visibility","visible");this._$rotator.bind(K,{elem:this},this.updateButtons).trigger(K)};s.prototype.showDPane=function(){e(this).stop(true,true).animate({opacity:1},k)};s.prototype.hideDPane=function(){e(this).stop(true,true).animate({opacity:0},k)};s.prototype.updateButtons=function(M){var L=M.data.elem;L._pos<0?L._$upPane.stop(true,true).fadeIn(k):L._$upPane.stop(true,true).fadeOut(k);L._pos>-L._range?L._$downPane.stop(true,true).fadeIn(k):L._$downPane.stop(true,true).fadeOut(k)};s.prototype.prevThumbs=function(M){var L=M.data.elem;L.scrollPrevThumbs(L._moveBy1)};s.prototype.nextThumbs=function(M){var L=M.data.elem;L.scrollNextThumbs(L._moveBy1)};s.prototype.scrollPrevThumbs=function(L){if(this._nextSlots<this._maxSlots){var M=L?1:Math.min(this._maxSlots-this._nextSlots,this._numDisplay);this._nextSlots+=M;this._prevSlots-=M;this.moveList()}return false};s.prototype.scrollNextThumbs=function(L){if(this._prevSlots<this._maxSlots){var M=L?1:Math.min(this._maxSlots-this._prevSlots,this._numDisplay);this._prevSlots+=M;this._nextSlots-=M;this.moveList()}return false};s.prototype.itemClick=function(N){var M=N.data.elem;var L=(e(this).index()-M._prevSlots)%M._numDisplay;if(L+1==M._numDisplay){M.scrollNextThumbs(true)}else{if(L==0){M.scrollPrevThumbs(true)}}};s.prototype.scrollUp=function(M){var L=M.data.elem;L._$downPane.stop(true,true).fadeIn(k);L._$rotator.trigger(B);L._scrollSpeed=-L._$list.stop(true).position().top*E;L._$list.animate({top:0},L._scrollSpeed,function(){L._$upPane.stop(true,true).fadeOut(k);L._$rotator.trigger(C)});L._$knob.stop(true).animate({top:0},L._scrollSpeed)};s.prototype.scrollDown=function(M){var L=M.data.elem;L._$upPane.stop(true,true).fadeIn(k);L._$rotator.trigger(B);L._scrollSpeed=(L._range+L._$list.stop(true).position().top)*E;L._$list.animate({top:-L._range},L._scrollSpeed,function(){L._$downPane.stop(true,true).fadeOut(k);L._$rotator.trigger(C)});L._$knob.stop(true).animate({top:L._$scrollbar.data("range")},L._scrollSpeed)};s.prototype.stopThumbList=function(N){var M=(typeof N!="undefined")?N.data.elem:this;M._$list.stop(true);try{M._$knob.stop(true)}catch(L){}M._$rotator.trigger(C)};s.prototype.mousemoveScroll=function(N){var L=N.data.elem;var M=Math.round(((N.pageY-L._$thumbPanel.offset().top)/L._$thumbPanel.height())*100)/100;L._dest=-Math.round(L._range*M);if(L._scrollId==null&&L._dest!=L._$list.position().top){L.stopThumbList();L._$rotator.trigger(B);L._scrollId=setInterval(function(){var Q=L._$list.stop(true).position().top;if(Q==L._dest){clearInterval(L._scrollId);L._scrollId=null;L._$rotator.trigger(C)}else{var O=(L._dest-Q)*F;L._pos+=O<0?Math.min(-1,Math.round(O)):Math.max(1,Math.round(O));L._$list.css("top",L._pos);try{L._$knob.css("top",Math.round(-L._pos*L._$scrollbar.data("ratio")))}catch(P){}}},30)}};s.prototype.adjustThumbs=function(N){var M=N.data.elem;if(M._scrollId==null){var L=Math.min(M._currIndex,M._maxSlots);M._prevSlots=L;M._nextSlots=M._maxSlots-M._prevSlots;M.moveList()}};s.prototype.moveList=function(){var L=this;this._pos=-this._prevSlots*this._$listItems.outerHeight();this._scrollSpeed=Math.min(q,Math.abs(this._$list.position().top-this._pos)*E);if(this._scrollSpeed>0){this._$rotator.trigger(B)}this._$list.stop(true).animate({top:this._pos},this._scrollSpeed,function(){L._$rotator.trigger(K).trigger(C)});this._$rotator.trigger(D)};s.prototype.initTextData=function(L,N){var M=L.find(">div:hidden");var P=c(parseInt(M.css("width"))-N,300);var O=c(parseInt(M.css("height"))-N,0);this._$innerText.width(P).html(M.html());if(O<this._$innerText.height()){O=this._$innerText.height()}L.data("textbox",{x:M.css("left"),y:M.css("top"),w:P+N,h:O+N+1,color:M.css("color"),bgcolor:M.css("background-color")})};s.prototype.selectItem=function(O){var N=O.data.elem;var L=e(O.target);if(L[0].nodeName!="LI"){L=L.parents("li").eq(0)}var M=L.index();if(M>=0&&M!=N._currIndex){N._dir=M<N._currIndex?I:J;N.resetTimer();N._prevIndex=N._currIndex;N._currIndex=M;N.loadContent(N._currIndex)}return false};s.prototype.goPrev=function(){this.resetTimer();this._dir=I;this._prevIndex=this._currIndex;if(this._currIndex>0){this._currIndex--}else{this._currIndex=this._numItems-1}this.loadContent(this._currIndex)};s.prototype.goNext=function(){this.resetTimer();this._dir=J;this._prevIndex=this._currIndex;if(this._currIndex<this._numItems-1){this._currIndex++}else{this._currIndex=0}this.loadContent(this._currIndex)};s.prototype.togglePlay=function(M){var L=M.data.elem;L._rotate=!L._rotate;e(this).toggleClass("pause",L._rotate);L._rotate?L.startTimer():L.pauseTimer();return false};s.prototype.pauseLast=function(L){if(L==this._numItems-1){this._rotate=false;this._$playButton.toggleClass("pause",this._rotate)}};s.prototype.startRotate=function(M){var L=M.data.elem;L._rotate=true;L._$playButton.toggleClass("pause",L._rotate);L.startTimer()};s.prototype.stopRotate=function(M){var L=M.data.elem;L._rotate=false;L._$playButton.toggleClass("pause",L._rotate);L.pauseTimer()};s.prototype.updateText=function(N){var L=N.data.elem;if(!L._$textBox.data("visible")){L._$textBox.data("visible",true);var O=L._$listItems.eq(L._currIndex).find(">div:hidden").html();if(O&&O.length>0){var M=L._$listItems.eq(L._currIndex).data("textbox");L._$innerText.css("color",M.color);L._$textBox.find(".inner-bg").css({"background-color":M.bgcolor,height:M.h-1});switch(G[L._textEffect]){case G.fade:L.fadeInText(O,M);break;case G.down:L.expandText(O,M,{width:M.w,height:0},{height:M.h});break;case G.right:L.expandText(O,M,{width:0,height:M.h},{width:M.w});break;case G.left:L.expandText(O,M,{"margin-left":M.w,width:0,height:M.h},{width:M.w,"margin-left":0});break;case G.up:L.expandText(O,M,{"margin-top":M.h,height:0,width:M.w},{height:M.h,"margin-top":0});break;default:L.showText(O,M)}}}};s.prototype.resetText=function(){this._$textBox.data("visible",false).stop(true,true);switch(G[this._textEffect]){case G.fade:case G.down:case G.left:case G.up:case G.right:if(jQuery.browser.msie){this._$innerText.css("opacity",0)}this._$textBox.fadeOut(v,function(){e(this).css("display","none")});break;default:this._$textBox.css("display","none")}};s.prototype.fadeInText=function(N,M){var L=this;this._$innerText.css("opacity",1).html(N);this._$textBox.css({top:M.y,left:M.x,width:M.w,height:M.h}).stop(true,true).fadeIn(v,function(){if(jQuery.browser.msie){L._$innerText[0].style.removeAttribute("filter")}})};s.prototype.expandText=function(P,O,N,L){var M=this;this._$innerText.css("opacity",1).html("");this._$textBox.stop(true,true).css({display:"block",top:O.y,left:O.x,"margin-top":0,"margin-left":0}).css(N).animate(L,v,function(){M._$innerText.html(P)})};s.prototype.showText=function(M,L){this._$textBox.stop(true).css({display:"block",top:L.y,left:L.x,width:L.w,height:L.h});this._$innerText.html(M)};s.prototype.displayText=function(M){var L=M.data.elem;L._$rotator.unbind(g).bind(g,{elem:L},L.updateText).trigger(g)};s.prototype.hideText=function(M){var L=M.data.elem;L._$rotator.unbind(g);L.resetText()};s.prototype.loadContent=function(N){this._$rotator.trigger(z).trigger(l);if(this._playOnce){this.pauseLast(N)}var Q=this._$listItems.eq(N);this._$listItems.filter(".selected").removeClass("selected");Q.removeClass("item-over").addClass("selected").append(this._$arrow);this._delay=Q.data("delay");this.resetText();if(!this._textSync){this._$rotator.trigger(g)}if(this._$mainLink){var P=Q.find(">a").eq(1);var L=P.attr("href");if(L){this._$mainLink.unbind("click",p).css("cursor","pointer").attr({href:L,target:P.attr("target")})}else{this._$mainLink.click(p).css("cursor","default")}}if(Q.data("img")){this._$preloader.hide();this.displayContent(Q.data("img"))}else{var O=this;var M=e("<img class='main-img'/>");M.load(function(){O._$preloader.hide();O.storeImg(Q,e(this));O.displayContent(e(this))}).error(function(){alert("Error loading image")});this._$preloader.show();M.attr("src",Q.data("imgurl"))}};s.prototype.displayContent=function(L){if(this._vStripeEffect){this._vStripes.clear()}if(this._hStripeEffect){this._hStripes.clear()}if(this._blockEffect){this._blocks.clear()}if(this._vStripeEffect||this._hStripeEffect||this._blockEffect){this.setPrevious()}var M=this._$listItems.eq(this._currIndex).data("effect");if(M==m.none||(typeof M=="undefined")){this.showContent(L);return}else{if(M==m.fade){this.fadeInContent(L);return}else{if(M==m["h.slide"]){this.slideContent(L,"left",this._screenWidth);return}else{if(M==m["v.slide"]){this.slideContent(L,"top",this._screenHeight);return}}}}if(M==m.random){M=Math.floor(Math.random()*(d-5))}if(M<=m["spiral.out"]){this._blocks.displayContent(L,M)}else{if(M<=m["blinds.right"]){this._vStripes.displayContent(L,M)}else{this._hStripes.displayContent(L,M)}}};s.prototype.setPrevious=function(){if(this._prevIndex>=0){var M=this._$mainLink.find("img#curr-img").attr("src");var N=this._$listItems.eq(this._prevIndex).data("imgurl");if(M!=N){this._$mainLink.find("img.main-img").attr("id","").hide();var L=this._$mainLink.find("img.main-img").filter(function(){return e(this).attr("src")==N});L.eq(0).show()}}};s.prototype.showContent=function(L){if(this._textSync){this._$rotator.trigger(g)}this._$mainLink.find("img.main-img").attr("id","").hide();L.attr("id","curr-img").show();this.startTimer()};s.prototype.fadeInContent=function(L){var M=this;this._$mainLink.find("img#curr-img").stop(true,true);this._$mainLink.find("img.main-img").attr("id","").css("z-index",0);L.attr("id","curr-img").stop(true,true).css({opacity:0,"z-index":1}).show().animate({opacity:1},this._duration,this._easing,function(){M._$mainLink.find("img.main-img:not('#curr-img')").hide();if(M._textSync){M._$rotator.trigger(g)}M.startTimer()})};s.prototype.slideContent=function(R,M,Q){this._$strip.stop(true,true);var N=e("#curr-img",this._$strip);if(N.size()>0){var P=this;this._$strip.find(".main-img").attr("id","").parents(".content-box").css({top:0,left:0});R.attr("id","curr-img").parents(".content-box").show();var O,L;if(this._dir==I){this._$strip.css(M,-Q);O=N;L=0}else{O=R;L=-Q}O.parents(".content-box").css(M,Q);var S=(M=="top")?{top:L}:{left:L};this._$strip.stop(true,true).animate(S,this._duration,this._easing,function(){P._$strip.find(".main-img:not('#curr-img')").parents(".content-box").hide();O.parents(".content-box").css({top:0,left:0});P._$strip.css({top:0,left:0});if(P._textSync){P._$rotator.trigger(g)}P.startTimer()})}else{this._$strip.css({top:0,left:0});this._$strip.find(".main-img").parents(".content-box").hide().css({top:0,left:0});R.attr("id","curr-img").parents(".content-box").show();if(this._textSync){this._$rotator.trigger(g)}this.startTimer()}};s.prototype.loadImg=function(M){try{var P=this;var L=this._$listItems.eq(M);var O=e("<img class='main-img'/>");O.load(function(){if(!L.data("img")){P.storeImg(L,e(this))}M++;if(M<P._numItems){P.loadImg(M)}}).error(function(){M++;if(M<P._numItems){P.loadImg(M)}});O.attr("src",L.data("imgurl"))}catch(N){}};s.prototype.storeImg=function(N,O){if(this._defaultEffect=="h.slide"||this._defaultEffect=="v.slide"){this._$strip.append(O);this.centerImg(O);var L=e("<div class='content-box'></div>").css({width:this._screenWidth,height:this._screenHeight});O.wrap(L);O.css("display","block");var M=N.find(">a").eq(1);if(M){O.wrap(M)}}else{this._$mainLink.append(O);this.centerImg(O)}N.data("img",O)};s.prototype.centerImg=function(M){if(this._autoCenter&&M.width()>0&&M.height()>0){var N=(this._screenHeight-M.height())/2;var L=(this._screenWidth-M.width())/2;M.css({top:N,left:L})}};s.prototype.startTimer=function(){if(this._rotate&&this._timerId==null){var M=this;var L=Math.round(this._$timer.data("pct")*this._delay);this._$timer.animate({width:this._screenWidth+1},L,"linear");this._timerId=setTimeout(function(){M.resetTimer();M._dir=J;M._prevIndex=M._currIndex;M._currIndex=M._currIndex<M._numItems-1?M._currIndex+1:0;M.loadContent(M._currIndex)},L)}};s.prototype.resetTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(true).width(0).data("pct",1)};s.prototype.pauseTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(true).data("pct",1-(this._$timer.width()/(this._screenWidth+1)))};s.prototype.shuffleItems=function(){var O=new Array(this._numItems);for(var N=0;N<this._numItems;N++){var L=Math.floor(Math.random()*this._numItems);var M=this._$listItems.eq(N);O[N]=this._$listItems.eq(L);O[L]=M}for(var N=0;N<this._numItems;N++){this._$list.append(O[N])}this._$listItems=this._$list.find(">li")};s.prototype.checkEffect=function(L){if(L==m.random){this._blockEffect=this._hStripeEffect=this._vStripeEffect=true}else{if(L<=m["spiral.out"]){this._blockEffect=true}else{if(L<=m["blinds.right"]){this._vStripeEffect=true}else{if(L<=m["blinds.bottom"]){this._hStripeEffect=true}}}}};function p(){return false}function c(L,M){if(!isNaN(L)&&L>0){return L}return M}function w(L){var P=L.length;for(var O=0;O<P;O++){var M=Math.floor(Math.random()*P);var N=L[O];L[O]=L[M];L[M]=N}}function H(L){var M=1;L=Math.abs(L);L=parseInt(L/10);while(L>0){M++;L=parseInt(L/10)}return M}e.fn.wtListRotator=function(N){var M={screen_width:600,screen_height:300,item_width:250,item_height:75,item_display:4,list_align:x,scroll_type:"mouse_move",auto_start:true,delay:u,transition:"fade",transition_speed:A,easing:"",auto_center:true,display_playbutton:true,display_number:true,display_timer:true,display_arrow:true,display_thumbs:true,display_scrollbar:true,mouseover_select:false,pause_mouseover:false,cpanel_mouseover:true,text_mouseover:false,text_effect:"down",text_sync:true,cpanel_align:"TR",timer_align:"bottom",move_one:false,auto_adjust:true,shuffle:false,play_once:false,block_size:f,vert_size:a,horz_size:a,block_delay:35,vstripe_delay:90,hstripe_delay:180};var L=e.extend({},M,N);return this.each(function(){var O=new s(e(this),L)})}})(jQuery);